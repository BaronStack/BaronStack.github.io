{"title":"C++面试问题总结：指针和引用的区别以及extern C的作用","slug":"C-面试问题总结：指针和引用的区别","date":"2018-03-04T05:50:38.000Z","updated":"2018-03-04T10:40:12.000Z","comments":true,"path":"api/articles/C-面试问题总结：指针和引用的区别.json","photos":[],"link":"","excerpt":"指针和引用的区别指针和引用都代表的是地址引用需要指向某些对象，但是你可以声明指针变量为空，然后将引用指向该指针变量。1<br>2<br>char *pc = NULL;<br>char &amp;rc = *pc;<br>","covers":null,"content":"<h3 id=\"指针和引用的区别\"><a href=\"#指针和引用的区别\" class=\"headerlink\" title=\"指针和引用的区别\"></a>指针和引用的区别</h3><blockquote>\n<p>指针和引用都代表的是地址</p>\n</blockquote>\n<ul>\n<li><strong>引用</strong>需要指向某些对象，但是你可以声明指针变量为空，然后将引用指向该指针变量。</li>\n</ul>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">char</span> <span class=\"meta\">*pc</span> <span class=\"string\">=</span> <span class=\"literal\">NULL</span><span class=\"string\">;</span></span><br><span class=\"line\"><span class=\"string\">char</span> <span class=\"meta\">&amp;rc</span> <span class=\"string\">=</span> <span class=\"string\">*pc;</span></span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<ul>\n<li>因为引用肯定会指向一个对象，因此必须初始化，其实和１是一回事。指针无此限制，但是，其实指针的未初始化，过不了coverity这些工具的检测。</li>\n<li>指针可以重新赋值，引用不可以，初始化后就不可改变:即不可以通过以更改指针的方式来更改引用的值，即直接对已经初始化的引用赋值。</li>\n<li>sizeof结果不同，指针返回的是指针本身大小，引用返回的是引用对象的大小:如果是指针的话，一般指针大小是4B，引用返回的大小是引用对象的大小，这样就可能因为对象类型不同而不同。</li>\n<li>引用不需要占用空间,它只是别名，不占用空间。</li>\n</ul>\n<h3 id=\"extern-C\"><a href=\"#extern-C\" class=\"headerlink\" title=\"extern C\"></a>extern C</h3><ul>\n<li>C++代码调用C语言代码</li>\n<li>C++头文件中使用</li>\n<li>多人协同开放的时候可能有的人擅长C语言，有的人擅长C++，这样的情况使用<code>extern c</code>就可以在C++ 中使用C语言</li>\n</ul>\n<p>这里的原因是在编译器对C语言和C++编译的方式有不同。<br>比如针对函数<code>void fun(int ,int )</code>,编译器处理的时候如果按照C语言的方式编译，会将该函数标识为<code>_fun()</code>，此时如果编译器按照C++编译的时候会将该函数编译为<code>_funii()</code>,如果该函数是在C语言的头文件中，我想要C++中调用该函数，肯定需要使用<code>extern c</code>来包含该头文件中的函数，否则在C++编译的情况下，对函数名处理的结果是_funii(),但是真正是找不到这样的函数实际调用的。</p>\n","categories":[{"name":"面试","slug":"面试","count":32,"path":"api/categories/面试.json"}],"tags":[{"name":"C++","slug":"C","count":25,"path":"api/tags/C.json"}]}